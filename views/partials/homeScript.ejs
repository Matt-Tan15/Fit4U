<script>
  document.addEventListener('DOMContentLoaded', () => {
      // change first and last name and alert user once  they click submit 
      const username = document.getElementById("name-submit")
      const nameHolder = document.getElementById('name-holder')
      const nameForm = document.getElementById('name-form')
      username.addEventListener("click", (e) => {
        e.preventDefault()
      const firstName = document.getElementById('first-name').value
      const lastName = document.getElementById('last-name').value
      alert(`Name upddated to ${firstName} ${lastName}`)
      username.style.display = "none"
    })

  
      // update profile info 
      let bioInput, userFullname, locationInput
      const input = document.getElementById('when-edited');
      const log = document.getElementById('values');
      const updateName = document.getElementById('update-name');
      const locationForm = document.getElementById('location-form')
      const locationPara = document.getElementById('location-paragraph')
      const namePara = document.getElementById('name-paragraph')
      const location = document.getElementById('location')
      const userLocation = document.getElementById('user-location')
      const locationSubmit = document.getElementById('location-submit')
      const editProfileButton = document.getElementById('edit-profile');
      const doneEditing = document.getElementById('done-editing');
    
      // chaange location 
      locationSubmit.addEventListener("click", (e) => {
      e.preventDefault()
    })

      editProfileButton.addEventListener('click', clickEditProfile)
      function clickEditProfile () {
        editProfileButton.style.display = "none"
        // nameHolder.style.display = "none"
        // location.style.display = "none"
        // userLocation.style.display = "none"
        locationPara.style.display = "none"
        locationForm.style.display = "block"
        nameForm.style.display = "block"
        namePara.style.display = "none"
        // updateName.style.display = "none"
        doneEditing.style.display = "block"
        input.style.display = 'block'
      }

      input.addEventListener('input', updateValue);
      function updateValue(e) {
        bioInput = log.textContent = e.target.value
        console.log(bioInput)
      }

      doneEditing.addEventListener('click', (e) => {
        const firstName = document.getElementById('first-name').value
        const lastName = document.getElementById('last-name').value
        const locationInput = document.getElementById('location-input').value
        doneEditing.style.display = "none"
        // updateName.style.display = "none"
        editProfileButton.style.display = "block"
        console.log(bioInput, "bio")
        input.style.display = "none"
        updateName.innerHTML = `${firstName} ${lastName}`
        // nameHolder.style.display = "block"
        nameForm.style.display = "none"
        namePara.style.display = "block"
        // location.style.display = "block"
        updateName.innerHTML = `${firstName} ${lastName}`
        userLocation.innerHTML = `${locationInput}`
        locationForm.style.display = "none"
        locationPara.style.display = "block"
        // userLocation.style.display = "block"
      })
    //     const options = {
    //     method: "POST",
    //     headers: { "Content-Type": "application/json" },
    //     body: JSON.stringify({
    //       first_name: firstName,
    //       last_name: firstName,

    //     }),
    //   };
    //   fetch("http://localhost:8000/auth/updateuserInfo", options)
    //     .then((response) => response.json())
    //     .then((data) => console.log(data));
    // });    
    })
    
</script>